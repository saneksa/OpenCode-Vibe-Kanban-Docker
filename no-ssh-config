# SSH server configuration - Written from scratch (no includes)

# Basic settings
Port 2222

# Listen ONLY on localhost - no other addresses
ListenAddress 127.0.0.1

# Authentication - simple password only
PermitRootLogin yes
PasswordAuthentication yes

# Disable PAM - use Unix authentication
UsePAM no

# Logging
SyslogFacility AUTH
LogLevel INFO

# Allow root user
AllowUsers root

# Disable sftp subsystem
Subsystem sftp /usr/lib/openssh/sftp-server

# Disable all forwardings - prevent conflicts
GatewayPorts no
X11Forwarding no
AllowTcpForwarding no
AllowAgentForwarding no
PermitTunnel no
X11Forwarding no

# Disable password aging - for Docker
MaxStartups 0
MaxAuthTries 6

# Set max sessions
MaxSessions 10

# Disable sftp subsystem
Subsystem sftp /usr/lib/openssh/sftp-server